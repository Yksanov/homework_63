<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> 
    <script src="https://kit.fontawesome.com/34932d7774.js" crossorigin="anonymous"></script> 
    <link rel="stylesheet" href="css/style.css"> 
    <title>Register</title> 
    <style> 
         
    </style> 
</head> 
<body> 
 
    <!-- Modal -->  
    <div class="px-5 py-5">  
        <button type="button" class="nav-button btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal">Зарегистрироваться</button>  
    </div> 
    <!-- Modal -->  
 
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="crossorigin="anonymous"></script> 
     
 
    <script> 
 
        $(document).ready(function(){ 
         
            const emailField = document.getElementById('email'); 
            const emailErrors = document.getElementById('emailErrors');
            const passwordErrors = document.getElementById("passwordErrors");
            const successMessage = document.getElementById("successMessage");
 
            emailField.addEventListener("input", function(){ 
                if(!emailField.validity.valid){ 
                emailErrors.textContent = "Введите корректный email"; 
                emailErrors.style.display = "block"; 
            } 
            else{ 
                emailErrors.textContent = ""; 
                emailErrors.style.display = "none"; 
                } 
            }); 
 
 
            $("#form").on("submit", function(event) { 
                event.preventDefault();
                let email = $("#email").val();
                let pass1 = $("#pass").val(); 
                let pass2 = $("#repass").val(); 
                 
 
                if (pass1 !== pass2) { 
                    passwordErrors.textContent = "Пароли не совпадают"; 
                    passwordErrors.style.display = "block"; 
                    event.preventDefault(); 
                } 
                else if(!/^\w{6,20}/.test(pass1) || !/^\w{6,20}/.test(pass2)) { 
                    passwordErrors.textContent = "Пароль слишком короткий! Пароль должен быть не менее 6 символов!"; 
                    passwordErrors.style.display = "block"; 
                    event.preventDefault(); 
                } 
                else { 
                    passwordErrors.textContent = ""; 
                    passwordErrors.style.display = "none"; 

                    var User = { 
                    email: email, 
                    password: pass1, 
                    repassword: pass2, 
                    getFullName: function() { 
                    return this.email + ' $' + this.password + ' $' + this.repassword; 
                    } 
                }; 
                console.log(User);
                console.log(User.getFullName()); 

                $('#successMessage').modal('show');
                } 
            }); 
 
                $(".toggle-password").click(function() { 
                $(this).toggleClass("fa-eye fa-eye-slash"); 
                var input = $($(this).attr("toggle")); 
                if (input.attr("type") == "password") { 
                input.attr("type", "text"); 
                } else { 
                    input.attr("type", "password"); 
                } 
            });         
        }); 
 
        
    </script> 
     

    <!-- Окно -->
     <div class="modal fade" id="successMessage" tabindex="-1" aria-labelledby="successMessageLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <h3>Добро пожаловать!</h4>
                    <i class="fa-solid fa-check fa-2xl d-flex justify-content-center py-4 text-success display-2"></i>
                    <button type="button" class="btn btn-primary mt-3" data-bs-dismiss="modal">close</button>
                </div>
            </div>
        </div>
    </div>
 <!-- Окно -->


 <!-- Modal -->  
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">  
        <div class="modal-dialog">  
            <div class="modal-content">  
                <div class="modal-header bg-white">  
                    <h1 class="modal-title fs-5 text-dark" id="exampleModalLabel">Зарегистрироваться</h1>  
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>  
                </div>
                    <div class="modal-body bg-white">  
                    <form id="form" action="#">  
                        <div class="form-group pb-2">  
                            <input class="form-control" type="email" id="email" placeholder="Введите ваше email">  
                            <div id="emailErrors"></div> 
                        </div>  
                        <div class="form-group py-2">  
                            <input class="form-control" type="password" placeholder="Введите ваше пароль" id="pass">  
                            <span toggle="#pass" class="fa fa-fw fa-eye field-icon toggle-password"></span> 
                        </div>  
                        <div class="form-group py-2">  
                            <input class="form-control" type="password" placeholder="Повторите пароль" id="repass">  
                            <span toggle="#repass" class="fa fa-fw fa-eye field-icon toggle-password"></span> 
                            <div id="passwordErrors"></div> 
                        </div>  
 
                        <div class="py-3"> 
                            <button type="submit" class="col-12 modal-button btn btn-primary">Готово!</button> 
                        </div> 
                    </form>  
                </div>  
            </div>  
        </div>  
    </div> 
  <!-- Modal -->  
 
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> 
</body> 
</html>